<app-nav-bar [itemId]=1></app-nav-bar>
<div class="container" >
    <h1>Stock History</h1>
    <hr>
    <div class="static-info" >
        <div class="form-group inline">
            <input style="width: 15em" id="stock" list="cards" name="stock" type="search" [(ngModel)]="stockName"  placeholder="Product" required autocomplete="off" (input)="getStocks()" >
            <datalist id="cards">
                <option *ngFor="let stock of stocks" [value]="stock.name">{{stock.name}}</option>
            </datalist>
        </div>
        <div class="form-group inline" >
            <input style="width: 15em" id="user" list="usersDataList" name="user" type="search" [(ngModel)]="username"  placeholder="User" required autocomplete="off" (input)="getUsers()" >
            <datalist id="usersDataList">
                <option *ngFor="let user of users" [value]="user.username">{{user.username}}</option>
            </datalist>
        </div>
        <div class="form-group inline right">
            <label for="startDate"><strong> Between</strong></label>
            <input id="startDate" name="startDate" type="date" [(ngModel)]="startDate" autocomplete="off" (change)="getPage(1)">
        </div>
        <div class="form-group inline right">
            <label for="endDate"><strong>and</strong></label>
            <input id="endDate" name="endDate" type="date" [(ngModel)]="endDate" autocomplete="off" (change)="getPage(1)">
        </div>
    </div>
    <div class="table-div">
        <table>
            <colgroup>
                <col span="1" style="width: 20%;">
                <col span="1" style="width: 15%;">
                <col span="1" style="width: 15%;">
                <col span="1" style="width: 15%;">
                <col span="1" style="width: 35%;">
            </colgroup>
            <tbody>
                <tr>
                    <th>Product</th>
                    <th>User</th>
                    <th>Date</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
                <tr class="table-row"  *ngFor="let history of histories">
                    <td>{{history.stock.name}}</td>
                    <td>{{history.user.username}}</td>
                    <td>{{history.date}}</td>
                    <td>{{history.type}}</td>
                    <td>{{history.description}}</td>
                </tr>
            </tbody>

        </table>
    </div>
    <app-pagination class="pagination" [$currentIndex]="currentPage" [$maxPage]="totalPages" [getPageFunction]="getPage"></app-pagination>
</div>
